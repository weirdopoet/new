import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { shortenAddress } from "../../../../../../../utils/address.js";
import { isEcosystemWallet } from "../../../../../../../wallets/ecosystem/is-ecosystem-wallet.js";
import { isSmartWallet } from "../../../../../../../wallets/smart/index.js";
import { fontSize, iconSize, } from "../../../../../../core/design-system/index.js";
import { useConnectedWallets } from "../../../../../../core/hooks/wallets/useConnectedWallets.js";
import { useEnsName, useWalletInfo, } from "../../../../../../core/utils/wallet.js";
import { useProfiles } from "../../../../../hooks/wallets/useProfiles.js";
import { Container } from "../../../../components/basic.js";
import { Skeleton } from "../../../../components/Skeleton.js";
import { Text } from "../../../../components/text.js";
import { WalletImage } from "../../../../components/WalletImage.js";
import { OutlineWalletIcon } from "../../../icons/OutlineWalletIcon.js";
export function WalletRow(props) {
    const { client, address } = props;
    const connectedWallets = useConnectedWallets();
    const profile = useProfiles({ client });
    const wallet = connectedWallets.find((w) => w.getAccount()?.address?.toLowerCase() === address.toLowerCase());
    const email = wallet &&
        (wallet.id === "inApp" ||
            isEcosystemWallet(wallet) ||
            isSmartWallet(wallet))
        ? profile.data?.find((p) => !!p.details.email)?.details.email
        : undefined;
    const walletInfo = useWalletInfo(wallet?.id);
    const ensNameQuery = useEnsName({
        address,
        client,
    });
    const addressOrENS = address
        ? ensNameQuery.data || shortenAddress(address)
        : "";
    return (_jsx(Container, { flex: "row", style: { justifyContent: "space-between" }, children: _jsxs(Container, { center: "y", color: "secondaryText", flex: "row", gap: "md", children: [wallet ? (_jsx(WalletImage, { client: props.client, id: wallet.id, size: iconSize[props.iconSize || "md"] })) : (_jsx(OutlineWalletIcon, { size: iconSize[props.iconSize || "md"] })), _jsxs(Container, { flex: "column", gap: "3xs", children: [props.label ? (_jsx(Text, { color: "secondaryText", size: "xs", children: props.label })) : null, _jsx(Text, { color: "primaryText", size: props.textSize || "xs", style: { fontFamily: "monospace", fontWeight: 600 }, children: addressOrENS || shortenAddress(props.address) }), profile.isLoading ? (_jsx(Skeleton, { height: fontSize.sm, width: "100px" })) : email || walletInfo?.data?.name ? (_jsx(Text, { color: "secondaryText", size: "xs", children: email || walletInfo?.data?.name })) : null] })] }) }));
}
//# sourceMappingURL=WalletRow.js.map